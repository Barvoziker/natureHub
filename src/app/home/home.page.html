<ion-content>
  <div id="map">
    <!-- Mire au centre de la carte -->
    <div id="mire" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1000;">
      <ion-icon name="add" style="font-size: 32px; color: red;"></ion-icon>
    </div>
  </div>

  <!-- Bouton flottant pour ajouter un point -->
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="openMarkerTypeList()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <!-- Liste des types de marqueurs -->
  <ion-list *ngIf="showMarkerTypeList" style="position: absolute; bottom: 80px; right: 16px; z-index: 1000;">
    <ion-item (click)="addPointAtCenter('poste')">
      <ion-icon name="location" slot="start"></ion-icon>
      <ion-label>Poste</ion-label>
    </ion-item>
    <ion-item (click)="addPointAtCenter('lieu de passage')">
      <ion-icon name="walk" slot="start"></ion-icon>
      <ion-label>Lieu de passage</ion-label>
    </ion-item>
    <ion-item (click)="addPointAtCenter('point eau')">
      <ion-icon name="paw" slot="start"></ion-icon>
      <ion-label>Point d'eau</ion-label>
    </ion-item>
  </ion-list>

  <!-- Modal pour le formulaire -->
  <ion-modal [isOpen]="isModalOpen" (didDismiss)="closeModal()">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>Ajouter un point</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="closeModal()">Fermer</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content>
        <form (ngSubmit)="onSubmit()">
          <ion-item>
            <ion-label position="floating">Nom du point</ion-label>
            <ion-input [(ngModel)]="pointName" name="pointName" required></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Description</ion-label>
            <ion-textarea [(ngModel)]="pointDescription" name="pointDescription"></ion-textarea>
          </ion-item>
          <ion-button expand="full" type="submit">Enregistrer</ion-button>
        </form>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
